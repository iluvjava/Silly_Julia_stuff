### **Intro**
To simplify, we only consider 2d fractals that maps each complex number $a + bi$ mapping to a specific color with a shade, where the shade is the number of iterations. 

We introduce and discuss a way of computing 2d fractals by focusing level of details only at the interesting parts of the fractals. This places more computational power to region where the fractals are having more details, and less computational power at region where the fractals are continuous and uninteresting. Such an idea for 2D is thoroughly discussed without code, and our hope is that it would be generalizable to other type of fractals that are not neccessarily defined on the complex plane. 

**How it works**

Inside a closed, finite box on the complex plane, the region manager divides the box into grid, let each division be the inner box. Initially it samaples equal amount of points from each inner box using the fractal generator. Based on the level of details from initial sampling, the region manager will iterate for a second time, and places more points for inner box that contain more colors and variance in iteration number. 

The results are then flushed to the canvas for processing, which then renders into an image. The points in space are not distributed in a nice way, interpolations are needed, artifacts might appear. 

**Question Need to Answer**
* Is the rendered results good? 
* Is there actual improvement in rendering speed for some fractals compare to bruteforce rendering? 
* How to doe the "region manager" so that it's as efficient as possible? 


---
### **Fractal Generators** 

Denote $\mathcal G$ as the fractal generator where it takes in a $a + ib \;\in \mathbb C$ and convert it to a color and an interation number, in the form of: $(c\in C, itr\in \mathbb Z\cup \{\infty, \text{NaN}\})$. 

**Note**: Iteration number being NaN means periodic orbit, $\infty$ means orbit blows up to infinity. 


---
### **A Canvas**

A canvas paints a specific region in the complex plane. It contain the following information: 
* $(a,b), (c, d)$: the x, y coordinate of the top left and the bottom right corner of an rectangle on the complex plane. $a \neq c \wedge b \neq d$. Oriented the same way as the complex plane. 
* $M, N$, the pixel count of the canvas, $M$ is the height and $N$ is the width. We prefer the ratio of $M/N \approx (b - d)/(c - a)$. 


#### **A canvas supports the following actions:**

Paint a Pixel:

> Paint a specific pixel by searching for all points the region corresponding to that pixel. Take $1\le j \le M, 1\le k \le N$ to be the pixel, then it corresponds to the region: 
> $$
> \begin{aligned}
>     \left[
>         \frac{(j - 1)(c - a)}{N},\frac{j(c - a)}{N}
>     \right]\times
>     \left[
>         \frac{(k - 1)(b - d)}{M}, \frac{k(b - d)}{M}
>     \right]
> \end{aligned}
> $$
> 
> If there exists points/point genereted by $\mathcal G$ in such a region, use all those point and take the average (MORE ARGUMENT NEEDED) of those points to determine the color of the pixel. Else, choose the point cloests to the centroid of the region, and the color of that point determine the color of this pixel. 




---
### **Region Manager**

It defines a box on the complex plane and support manipulations of data points generated by $\mathcal G$, it then divides the box into a grid, a grid that is $m\times n$, and we want $m, n$ be factors of $M, N$. 

Region Manager has the following information in it. 
* Inner Box region index by $(j, k)$
* Statistics about the iteration number and color for all the points generated by fractal generator in the region covered by inner box $(k, j)$. 

**Sample Inner Box $(j, k)$**

For all points in inner box, cout the number of unique colors and the variance on iteration number to determine how much more points to sample in this inner box, given an upper limit of function evaluation on the fractal generator $\mathcal G$. 